{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import axios from'axios';import{useAuth}from'../context/AuthContext';import config from'../config';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Notes=()=>{const[notes,setNotes]=useState([]);const[title,setTitle]=useState('');const[content,setContent]=useState('');const[editingNote,setEditingNote]=useState(null);const{token}=useAuth();const fetchNotes=useCallback(async()=>{try{const authConfig={headers:{Authorization:\"Bearer \".concat(token)}};const response=await axios.get(\"\".concat(config.apiUrl,\"/api/notes\"),authConfig);setNotes(response.data);}catch(error){console.error('Error fetching notes:',error);}},[token]);useEffect(()=>{fetchNotes();},[fetchNotes]);const handleSubmit=async e=>{e.preventDefault();try{const authConfig={headers:{Authorization:\"Bearer \".concat(token)}};if(editingNote){await axios.put(\"\".concat(config.apiUrl,\"/api/notes/\").concat(editingNote._id),{title,content},authConfig);setEditingNote(null);}else{await axios.post(\"\".concat(config.apiUrl,\"/api/notes\"),{title,content},authConfig);}setTitle('');setContent('');fetchNotes();}catch(error){console.error('Error saving note:',error);}};const handleEdit=note=>{setEditingNote(note);setTitle(note.title);setContent(note.content);};const handleDelete=async id=>{try{const authConfig={headers:{Authorization:\"Bearer \".concat(token)}};await axios.delete(\"\".concat(config.apiUrl,\"/api/notes/\").concat(id),authConfig);fetchNotes();}catch(error){console.error('Error deleting note:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"notes-container\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"note-form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:editingNote?'Edit Note':'Add New Note'}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Title:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:title,onChange:e=>setTitle(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Content:\"}),/*#__PURE__*/_jsx(\"textarea\",{value:content,onChange:e=>setContent(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",children:[editingNote?'Update':'Add',\" Note\"]}),editingNote&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{setEditingNote(null);setTitle('');setContent('');},children:\"Cancel\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"notes-list\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your Notes\"}),notes.map(note=>/*#__PURE__*/_jsxs(\"div\",{className:\"note-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:note.title}),/*#__PURE__*/_jsx(\"p\",{children:note.content}),/*#__PURE__*/_jsxs(\"div\",{className:\"note-actions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(note),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(note._id),children:\"Delete\"})]})]},note._id))]})]});};export default Notes;","map":{"version":3,"names":["React","useState","useEffect","useCallback","axios","useAuth","config","jsx","_jsx","jsxs","_jsxs","Notes","notes","setNotes","title","setTitle","content","setContent","editingNote","setEditingNote","token","fetchNotes","authConfig","headers","Authorization","concat","response","get","apiUrl","data","error","console","handleSubmit","e","preventDefault","put","_id","post","handleEdit","note","handleDelete","id","delete","className","children","onSubmit","type","value","onChange","target","required","onClick","map"],"sources":["C:/Users/lenovo/Desktop/React-Udemy/CHATGPT-MERN/chatgpt-frontend/src/components/Notes.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport axios from 'axios';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport config from '../config';\r\n\r\nconst Notes = () => {\r\n    const [notes, setNotes] = useState([]);\r\n    const [title, setTitle] = useState('');\r\n    const [content, setContent] = useState('');\r\n    const [editingNote, setEditingNote] = useState(null);\r\n    const { token } = useAuth();\r\n\r\n    const fetchNotes = useCallback(async () => {\r\n        try {\r\n            const authConfig = {\r\n                headers: { Authorization: `Bearer ${token}` }\r\n            };\r\n            const response = await axios.get(`${config.apiUrl}/api/notes`, authConfig);\r\n            setNotes(response.data);\r\n        } catch (error) {\r\n            console.error('Error fetching notes:', error);\r\n        }\r\n    }, [token]);\r\n\r\n    useEffect(() => {\r\n        fetchNotes();\r\n    }, [fetchNotes]);\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            const authConfig = {\r\n                headers: { Authorization: `Bearer ${token}` }\r\n            };\r\n            if (editingNote) {\r\n                await axios.put(`${config.apiUrl}/api/notes/${editingNote._id}`, {\r\n                    title,\r\n                    content\r\n                }, authConfig);\r\n                setEditingNote(null);\r\n            } else {\r\n                await axios.post(`${config.apiUrl}/api/notes`, {\r\n                    title,\r\n                    content\r\n                }, authConfig);\r\n            }\r\n            setTitle('');\r\n            setContent('');\r\n            fetchNotes();\r\n        } catch (error) {\r\n            console.error('Error saving note:', error);\r\n        }\r\n    };\r\n\r\n    const handleEdit = (note) => {\r\n        setEditingNote(note);\r\n        setTitle(note.title);\r\n        setContent(note.content);\r\n    };\r\n\r\n    const handleDelete = async (id) => {\r\n        try {\r\n            const authConfig = {\r\n                headers: { Authorization: `Bearer ${token}` }\r\n            };\r\n            await axios.delete(`${config.apiUrl}/api/notes/${id}`, authConfig);\r\n            fetchNotes();\r\n        } catch (error) {\r\n            console.error('Error deleting note:', error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"notes-container\">\r\n            <form onSubmit={handleSubmit} className=\"note-form\">\r\n                <h2>{editingNote ? 'Edit Note' : 'Add New Note'}</h2>\r\n                <div className=\"form-group\">\r\n                    <label>Title:</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        value={title}\r\n                        onChange={(e) => setTitle(e.target.value)}\r\n                        required\r\n                    />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label>Content:</label>\r\n                    <textarea\r\n                        value={content}\r\n                        onChange={(e) => setContent(e.target.value)}\r\n                        required\r\n                    />\r\n                </div>\r\n                <button type=\"submit\">{editingNote ? 'Update' : 'Add'} Note</button>\r\n                {editingNote && (\r\n                    <button type=\"button\" onClick={() => {\r\n                        setEditingNote(null);\r\n                        setTitle('');\r\n                        setContent('');\r\n                    }}>Cancel</button>\r\n                )}\r\n            </form>\r\n\r\n            <div className=\"notes-list\">\r\n                <h2>Your Notes</h2>\r\n                {notes.map((note) => (\r\n                    <div key={note._id} className=\"note-card\">\r\n                        <h3>{note.title}</h3>\r\n                        <p>{note.content}</p>\r\n                        <div className=\"note-actions\">\r\n                            <button onClick={() => handleEdit(note)}>Edit</button>\r\n                            <button onClick={() => handleDelete(note._id)}>Delete</button>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Notes; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}